# Abstract:
制图旨在通过创建地图来直观地表示地球表面的地理信息，从而帮助增强对地理位置、导航、规划和地理现象分析的理解。制图过程通常涉及复杂的操作，例如符号设计、布局设计和文字注释，要求具备**高度的专业知识**。此外，为了创建标准化和视觉上吸引人的地图产品，地图制作者还需要具备高度**发达的创造性思维能力**。地图制作者的高需求阻碍了制图的推广和广泛采用。因此，研究人员正在集中研究自动化和提高制图智能的技术。例如，一些研究尝试训练深度学习模型用于制图，包括地图样式转换等方法。然而，这些方法通常将整个地图视为一个整体输入，并生成一个新的地图作为输出，**缺乏考虑和控制地图内详细元素的灵活性**。因此，在本文中，我们提出了一个基于大型语言模型的智能制图框架，称为MapGPT，它可以通过将地图视为各种地图元素的集成来进行制图。具体来说，在MapGPT中设计了多种专业的制图工具，每个工具都用于控制相应的地图元素。例如，OpenAI的DALL•E 3模型被纳入用于设计创造性和多样的符号样式，而罗盘工具用于实现罗盘元素的位置和视觉样式的自适应调整。通过这些工具，大型语言模型被用作代理，首先基于自然语言描述理解用户需求，然后自动按顺序调用适当的工具生成地图。此外，通过利用大型语言模型的记忆功能，MapGPT提供了用户友好的交互优势，这意味着用户可以动态调整地图元素，包括颜色、注释和元素位置。总之，MapGPT通过利用自然语言描述作为用户交互的界面，提供了用户友好的制图体验。大量案例研究验证了该框架在制图中的有效性。

# Introduction Part-1
地图在我们的生活中是基本工具，被广泛使用。在我们的日常活动中，它们在导航和信息传递中发挥着关键作用（Vasiliev等，1990年）。例如，地图可以提供宝贵的空间信息，用于在城市中找到特定位置，规划旅行路线，或了解某一地区的地理特征（Thorndyke和Hayes-Roth，1982年）。通常，地图最常见的理解是在地球表面上表示地理信息，这也是地理学家极感兴趣的（Andrews，1996年；Soini，2001年）。随着时间的推移，地图不断发展，以许多新的形式和应用形式出现，如历史和文化地图。然而，尽管它们在信息传递方面非常有效，但制图工作——将地理数据转换为地图上的视觉元素的过程——需要高水平的专业知识（Kraak，1998年；Lloyd，1993年）。这种专业知识成为地图发展和广泛应用的障碍。

# Introduction Part-2
### 复杂的地图元素
首先，地图包含多种元素，例如比例尺、指南针、图例和边框等（参见图1中的地图元素）。此外，有许多参数可用于控制每个地图元素的细节。例如，在商业软件ArcGIS中，用户可以更改地图元素的颜色、形状、大小和透明度。因此，设计师在制图过程中需要采用多种操作来控制这些元素，这使得制图成为一项复杂且专业的任务。

### 对创造性思维的需求
其次，制图并非一项僵硬的任务；相反，它是一个类似于写诗的创造性过程（Harmon和Clemans，2009）。它作为对环境感知和人类地理想象的响应（Lilley，2018）。本质上，制图是艺术与科学的结合，这要求地图制作者具备创造性思维（Perkins，2003；Visvalingam，1989）。例如，地图符号是地图中用于表征地理信息的关键元素。然而，为具有不同特征的各种地理实体设计合适的符号构成了一个挑战，这是研究者长时间关注的课题（Robinson等人，2012）。

总之，**制图是一项挑战性的任务**，需要来自多个学科的丰富知识，以创建标准化且视觉上吸引人的地图产品。为简化这一过程，研究人员已经在制图的自动化和智能化方面做出了重大努力（Bhatnagar等人，2018；Kang等人，2024；Brus等人，2010；WANG，2022）。在早期阶段，研究者构建了许多专家系统用于制图，如地图设计（Skidmore等人，1991，1996；Eldrandaly，2006）和标签放置（Lei等人，2021）。这些系统是基于从专家知识中提取和制定的预定义规则设计的。随后，随着机器学习和人工智能的进步，GIScience的学者们现在正在利用AI方法解决复杂的地理问题，包括制图任务（Kang等人，2024）。这一新兴的研究焦点通常被称为地理空间人工智能（GeoAI）（Janowicz等人，2020；Gao，2021）。总体而言，GeoAI模型在各种地理空间任务中表现出优于以往方法的性能，包括加速复杂的制图设计过程和促进制图创造力（Li等人，2023；Usery等人，2022；Song等人，2023）。

# Introduction Part-3
例如，地图风格是一个关键的设计元素，它通常需要花费大量时间来为不同的应用开发合适的风格（Benová和Pravda 2009年，Christophe等人2016年）。为了解决这个问题，Christophe等人（2022年）提出使用一种生成对抗网络（GAN），能够将地图从简单风格（例如，平面图）转换到更具艺术风格。此外，Kang等人（2019年）采用了基于GAN的模型进行多尺度地图风格转换。随着生成性人工智能的发展，包括文本到图像的模型，如扩散和DALL-E，一些研究人员正在探索基于自然语言描述直接生成地图的方法（Dunkel等人2023年，Courtial等人2023年）。然而，这些方法的一个共同策略是将整个地图作为全局输入，并生成一个新的地图作为输出，这缺乏灵活性，无法考虑和控制地图中的详细元素。换句话说，地图是各种地图元素的集成，使用全局视角的模型难以仅调整这些元素的某些部分。此外，由于所有内容都是由深度模型生成的，生成的地图的不确定性和不透明性也引发了对这些方法的重大伦理关切（Kang等人2023年，Griffin 2020年）。

因此，在本文中，我们提出了一个基于大型语言模型（LLM）的制图框架，名为MapGPT，它可以通过考虑地图作为各种地图元素的集成来用于制图（见图1中的框架）。这项研究的思想来源于最近提出的AutoGPT（Gravitas 2023年），旨在通过配备调用外部定义工具的能力来进一步扩展LLM的能力。在AutoGPT中，一个LLM用来理解需求，然后思考并依次执行适当的工具来解决复杂的任务。这个框架遵循一种思维链策略（Wei等人2022年），它首先将一个复杂的任务分解为多个子任务；在每一步，它会根据上一步的输出进行一次推理，然后选择合适的工具来解决一个子任务。一些开创性的研究验证了其在各个领域的有效性，如计算机视觉（Wu等人2023a年，Wang等人2023年），化学（Bran等人2023年），公共卫生（Dai等人2023年）和地理信息系统（GIS）（Zhang等人2023年）。

受这些研究的启发，我们将制图过程分解为多个操作的集成，每一步都用于添加或调整一个地图元素。这样，MapGPT中设计了多个工具，每个工具都设计用来控制相应的地图元素。例如，使用一个指南针工具来调整指南针元素的位置和视觉风格。此外，为了使MapGPT具有创造性思维能力，将OpenAI的最出色的文本到图像模型之一DALL•E 3模型整合进来，用于设计创造性和多样化的符号风格。在MapGPT中，首先使用大型语言模型来基于自然语言描述理解用户的需求，随后自动依次调用适当的工具生成地图。此外，通过利用大型语言模型的记忆能力，MapGPT提供了用户友好的交互优势，这意味着用户可以通过自然语言对话动态调整地图元素，包括颜色、注释和元素位置。总之，MapGPT通过利用自然语言描述作为用户交互界面，提供了用户友好的制图体验。这消除了对制图生产者的高需求，并且MapGPT还可以作为专业制图生产者的初始参考。五个案例研究验证了MapGPT在解决复杂的制图任务、设计合适的地图符号以表示地理特征以及与用户进行交互式对话方式修改生成的地图方面的有效性。